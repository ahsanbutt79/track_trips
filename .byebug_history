c
Trip.where('company_id = ? and date(start_time) >= ? and date(start_time) <= ? and user_id = ?', params[:company_id].to_i, params[:start_date].to_date.strftime("%F"), params[:end_date].to_date.strftime("%F"), params[:filter_id].to_i).select("sum(distance) as total_distance").group("user_id").last.total_distance
Trip.where('company_id = ? and date(start_time) >= ? and date(start_time) <= ? and user_id = ?', params[:company_id].to_i, params[:start_date].to_date.strftime("%F"), params[:end_date].to_date.strftime("%F"), params[:filter_id].to_i).select("sum(distance) as total_distance").group("user_id").last
Trip.where('company_id = ? and date(start_time) >= ? and date(start_time) <= ? and user_id = ?', params[:company_id].to_i, params[:start_date].to_date.strftime("%F"), params[:end_date].to_date.strftime("%F"), params[:filter_id].to_i).select("sum(distance) as total_distance").group("user_id")
c
Trip.where('company_id = ? and date(start_time) >= ? and date(start_time) >= ? and user_id = ?', params[:company_id].to_i, params[:start_date].to_date.strftime("%F"), params[:end_date].to_date.strftime("%F"), params[:filter_id].to_i).select("sum(distance) as total_distance").group("user_id")
c
Trip.where('company_id = ? and date(start_time) >= ? and date(start_time) >= ? and user_id = ?', params[:company_id].to_i, params[:start_date].to_date.strftime("%F"), params[:end_date].to_date.strftime("%F"), params[:filter_id].to_i).select("sum(distance) as total_distance").group("user_id")
params
c
trip['name']
trip[:user_id]
c
trip[:user_id]
trip[:name]
trip['name']
trip[:name]
trip
c
trip
h[:hashes]
h = {hashes: "awesome", ruby: "awesome"}
trip[:name]
trip
trip['name']
trip(:fetch, 'name')
trip.first
trip.name
trip(:name)
trip.pluck(:name)
trip.to_a[:name]
trip.to_r[:name]
trip.to_a[:name]
trip.to_s[:name]
trip.to_s['name']
trip.to_s
trip=>name
trip()
trip(name)
trip::name
trip:name
trip
params[:trips].to_a[0].name
params[:trips].to_a[0][0]
params[:trips].to_a[0][:name]
params[:trips].to_a[0]['name']
params[:trips].to_a
params[:trips].to_hash
params[:trips].to_h
trip.name
trip
trip.map{|a| a['name']}
trip.map{|a| do  a['name']}
trip.map{|a| a['name']}
trip.tap{|a| a['name']}
trip.tap{|a| a[:name]}
trip.tap{|a| a['name']}
trip.tap{|a| a.name}
trip.tap{}
trip.tap()
trip.tap
trip.tap(:name)
trip.map(:name)
trip
params[:trips].count
trips.count
trip[102]
trip[100]
trip["name"]
c
trip.to_yaml[:name]
trip.to_yaml.name
trip.to_yaml
trip.to_a
trip.to_r
trip.to_arr
trip['name']
trip[:name]
trip.name
trip.last
trip.first
trip.map{|a| a.name}
Trip.new(trip)
trip.name
trip.name\
trip
trip.to_param[:name]
trip.to_param['name']
trip.to_param.name
trip.to_param
trip.to_a
trip.to_h
trip[:user_id]
trip
c
trip
trip[:user_id]
trip['user_id']
trip.pluck(:name)
trip[0]['name']
trip[2]
c
trip
trip[2]
trip[1]
trip[1]['name']
trip[0]['name']
trip.pluck(:name)
trip['user_id']
trip[:user_id]
trip['name']
trip.name
trip[name]
trip
trips.count
trip.to_a
trip.to_arr
trip['name'][:name]
trip['name'][0]
trip['name']['name']
trip['name']
trip[:name]
trip
trip.to_hash
trip.to_param[:name]
trip.to_param[0]
trip.to_param['name']
trip.to_param
trip.to_a
trip[0]
trip['name']
trip
trip['user_id']
trip['start_time']
c
trip['start_time']
Trip.create(name: trip['name'], user_id: trip['user_id'], vehicle_id: trip['vehicle_id'], start_time: trip['start_time'], end_time: trip['end_time'], company_id: trip['company_id'])tri
trip['name']
trip[:name]
trip
trip_new = Trip.new(trip)
c
n
params[:trips].count
c
trip.to_h
trip
c
Trip.create(trip)
Trip.create(trip.to_h)
c
n
c
n
c
n
Trip.create(trip.to_h)
c
Trip.create(trip)
c
trip
Trip.create(trip)
c
Trip.create(trip)
trip
c
n
c
n
params[:trips].count
params[:trips]
c
params[:trips]
params[:trips].to_h
params[:trips].to_hash
c
params[:trips].count
params[:trips].length
c
params[:trips].length
params[:trips].count
params[:trips]
params
c
n
c
n
params
params[:trips].length
params[:trips]
exit
params[:trips] = {{name: 'trip name 2', user:_id: 1, vehicle_id: 1, start_time: '2018-02-02', end_time: '2018-02-02', 200, company_id: 1},{name: 'trip name 3', user:_id: 1, vehicle_id: 1, start_time: '2018-03-03', end_time: '2018-03-03', 300, company_id: 1}}
params[:trips].length = {{name: 'trip name 2', user:_id: 1, vehicle_id: 1, start_time: '2018-02-02', end_time: '2018-02-02', 200, company_id: 1},{name: 'trip name 3', user:_id: 1, vehicle_id: 1, start_time: '2018-03-03', end_time: '2018-03-03', 300, company_id: 1}}
params[:trips].length
params[:trips]
exit
params[:trips]
params[:trips].length
params[:trips]
params
exit
params
exit
params
c
trips.count
Trip.count
c
Trip.count
trips.count
trips
c
trips.count
trips
params[:filter_type] == 'vehicle'
n
Trip.where('company_id = ? and date(start_time) >= ? and date(start_time) >= ? and user_id = ?', params[:company_id].to_i, params[:start_date].to_date.strftime("%F"), params[:end_date].to_date.strftime("%F"), params[:filter_id].to_i)
c
Trip.where('company_id = ? and date(start_time) >= ? and date(start_time) >= ? and user_id = ?', params[:company_id].to_i, params[:start_date].to_date.strftime("%F"), params[:end_date].to_date.strftime("%F"), params[:filter_id].to_i)
c
Trip.where('company_id = ? and start_time >= ? and end_time >= ? and user_id = ?', params[:company_id].to_i, params[:start_date].to_date.strftime("%F"), params[:end_date].to_date.strftime("%F"), params[:filter_id].to_i)
c
Trip.where('company_id = ? and date(start_time) >= ? and date(end_time) >= ? and user_id = ?', params[:company_id].to_i, params[:start_date].to_date.strftime("%F"), params[:end_date].to_date.strftime("%F"), params[:filter_id].to_i)
Trip.where('company_id = ? and start_time >= ? and end_time >= ? and user_id = ?', params[:company_id].to_i, params[:start_date].to_date.strftime("%F"), params[:end_date].to_date.strftime("%F"), params[:filter_id].to_i)
params[:start_date].to_date.strftime("%F")
params[:start_date].to_date
Trip.where('company_id = ? and start_time >= ? and start_time >= ? and user_id = ?', params[:company_id].to_i, params[:start_date], params[:end_date], params[:filter_id].to_i)
c
Trip.where('company_id = ? and created_at >= ? and created_at >= ? and user_id = ?', params[:company_id].to_i, params[:start_date], params[:end_date], params[:filter_id].to_i)
c
Trip.where('company_id = ? and created_at >= ? and created_at >= ? and user_id = ?', params[:company_id].to_i, params[:start_date], params[:end_date], params[:filter_id])
c
Trip.where("company_id = ? and created_at >= ? and created_at >= ? and user_id = ?", company_id, start_date, end_date, filter_id)
c
Trip.where("company_id = ? and created_at >= ? and created_at >= ? and user_id = ?", company_id, start_date, end_date, filter_id)
c
Trip.where("company_id = ? and created_at >= ? and created_at >= ? and user_id = ?", company_id, start_date, end_date, filter_id)
params
clear
c
params
